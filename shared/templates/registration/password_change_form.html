{% extends "base.html" %}
{% load i18n %}

{% block title %}Password change{% endblock %}

{# https://ordinarycoders.com/blog/article/django-password-reset #}
{# https://github.com/macropin/django-registration #}

{% block content %}
  <div class="content-center">
  
    <h2>Change your password</h2>

<form action="" method="post">{% csrf_token %}
<div>
{% if form.errors %}
    <p class="errornote">
    {% blocktrans count counter=form.errors.items|length %}Please correct the error below.{% plural %}Please correct the errors below.{% endblocktrans %}
    </p>
{% endif %}

<div class="form-row">
    {{ form.old_password.errors }}
    <label for="id_old_password" class="required">{% trans 'Old password' %}:</label>{{ form.old_password }}
</div>

<div class="form-row">
    {{ form.new_password1.errors }}
    <label for="id_new_password1" class="required">New password:</label>{{ form.new_password1 }}
</div>

<div class="form-row">
{{ form.new_password2.errors }}
    <label for="id_new_password2" class="required">New password confirmation:</label>{{ form.new_password2 }}
</div>

<div class="submit-row">
    <input type="submit" value="{% trans 'Change my password' %}" class="default" />
</div>

<script type="text/javascript">document.getElementById("id_old_password").focus();</script>
</div>
</form>
</div>


<script>
    $(window).load(function(){
    $("#nav-login").addClass("current");
    $('.page-name').find('h1').replaceWith('<h1>Password Change</h1>');
    $(".page-name").stop().animate({
                    opacity: 1,
                'margin-left': '5%'
                }, 700);});
</script>

{% endblock %}
