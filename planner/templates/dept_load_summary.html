{% extends "base.html" %}
{% block extrahead %}
{% endblock %}
{% block content %}
{% load static %}
<style>
* {outline}
</style>

<style type="text/css">
div.f1 { float: left; width: 100px; }
div.f2 { float: left; text-align: right; width: 150px; }
div.f3 { float: left; text-align: right; width: 40px; }
div.f4 { clear: both; }
</style>


<script type="text/javascript" src='{% static "js/fixed_table_rc.js" %}'></script>
<link rel="stylesheet" type="text/css" href='{% static "css/fixed_table_rc.css" %}'/>

<p> <a class="btn btn-info" href="{% url 'update_year_to_view' id %}?next={{ request.path|urlencode }}">
	    Change Academic Year</a>
</p>

<div class="content-center">

<!--
Some buttons types in bootstrap:

class="btn btn-default"
class="btn btn-danger"
class="btn btn-info"
class="btn btn-primary"
class="btn btn-success"
class="btn btn-warning"
-->


{% if can_edit %}
<div style="margin-top: -10px; padding: 0px 2px 2px 2px">
    <a href="{% url 'select_course' %}?next={{ request.path|urlencode }}">
	Add </a> a course offering manually.
</div>
<div style="padding: 2px 2px 8px 2px"> <a href="{% url 'choose_year_course_copy' %}?next={{ request.path|urlencode }}">
	    Copy</a> one or more course offerings from a previous year.
</div>
{% else %}<br>
{% endif %}

<div id="position-holder-message-div"><span id="position-holder-message1"></span> <a id="new-link-id" href="{% url 'department_load_summary' %}"></a></div>

</div>
 <div id="year-accordion" class="accordion">
   <div class="accordion-group">
     <div class="accordion-heading">
       <a class="accordion-toggle"
	   data-toggle="collapse"
	   data-parent="#year-accordion"
	   href="#{{all_faculty_div_id}}"
	   onclick="divRegister({{all_faculty_div_id}})">
	  <!--onclick="divRegister()"-->
	 All Faculty - All Course Offerings
	</a> 
       </div>{# accordion-heading #}

      <div id="100001" class="accordion-body collapse">
	<div class="accordion-inner">

<p><a title = "Choose which faculty to display when looking at loads, schedules, etc." class="btn btn-info" href="{% url 'update_faculty_to_view' id %}?next={{ request.path|urlencode }}">Manage Faculty</a>
</p>

<div id="table-container">

<table id='fixed_hdr1' class="table table-striped table-bordered table-hover">
	     <thead>
	       <tr>
<!--		{% if can_edit %}
		<th colspan="6">Teaching Loads </th> 
<!--		<td colspan="5"> <a class="btn" href="{% url 'update_faculty_to_view' id %}?next={{ request.path|urlencode }}">Edit Faculty to View</a> </td>

		{% else %}
		<th colspan="5">Teaching Loads </th>
<!--		<td colspan="4"> <a class="btn" href="{% url 'update_faculty_to_view' id %}?next={{ request.path|urlencode }}">Edit Faculty to View</a> </td>

		{% endif %}
		</tr>
-->
	       <th> Number </th>
	       <th> Name </th>
<!--
	       {% if can_edit %}
	       <td style="text-align: center;">  </td>
	       {% endif %}
-->
	       <th> Semester/Fraction </th>
	       <th> Time </th>
	       <th> Room </th>
	       {% if can_edit %} <th> </th> {% endif %}
	        <th> Avail </th>
	       <th> Diff </th>
               <th style="text-align: center;"> Instructor </th>
	       <th> Comments </th>
	       </tr>
	     </thead>
	     <tbody>
{% for course in course_data_list %}
    <tr>
      <td> {{course.number}}</td>
      <td> {{course.name}}</td>

      <td style="text-align: center;"> 
	{% if can_edit %}
	  <a href="{% url 'update_semester_for_course_offering' course.id %}?next={{ request.path|urlencode }}">
	    {{course.semester}}/{{course.semester_fraction}}</a>
	{% else %} 
	  {{course.semester}}/{{course.semester_fraction}}
        {% endif %}
      </td>
      <td style="text-align: center;">      
	{% for meeting in course.meeting_times %}
	<div>
	  {% if course.meetings_scheduled %}
	  {% if can_edit %}
	  <a href="{% url 'update_class_schedule' course.id 0 %}?next={{ request.path|urlencode }}">
	    {{meeting}}</a>
	  {% else %} 
	    {{meeting}}
	  {% endif %}
	  {% else %}
	  {% if can_edit %}
	  <a href="{% url 'new_class_schedule' course.id 0 %}">
	    {{meeting}}</a>
	  {% else %}
	    {{meeting}}
	  {% endif %}
	  {% endif %}
	</div>
	{% endfor %}
      </td> 
      <td style="text-align: center;">
	{% for room in course.rooms %}
	<div>
	  {% if course.meetings_scheduled %}
	  {% if can_edit %}
	  <a href="{% url 'update_class_schedule' course.id 0 %}?next={{ request.path|urlencode }}">
	    {{room}}</a>
	  {% else %}
	  {{room}}
	  {% endif %}
	  {% else %}
	  {% if can_edit %}
	  <a href="{% url 'new_class_schedule' course.id 0 %}">
	    {{room}}</a>
	  {% else %}
	  {{room}}
	  {% endif %}
	  {% endif %}
	</div>
	{% endfor %}
      </td>
      {% if can_edit %}
      <td style="text-align: center;"> 
	<a title="Delete this course offering" href="{% url 'delete_course_offering' course.id %}?next={{ request.path|urlencode }}">Delete</a> |
	<a  title="Assign the load for this course offering to one or more instructors" href="{% url 'update_course_offering' course.id 0 %}?next={{ request.path|urlencode }}"> Edit Loads</a>
	</td>
      {% endif %}
      </td>
      <td style="text-align: center;">
	{{course.load_hours}}</td>
	{% if course.load_difference < 0 %}
          <td style="text-align: center; color: red"> 
	  {{course.load_difference}}
	  </td>
	{% elif course.load_difference > 0 %}
	  <td style="text-align: center;"> 
	  {{course.load_difference}} 
	  </td>
	{% else %}
	  <td></td>
	  {% endif %}

	  <td style="text-align: center;">
	    {% for instructor in course.instructor_list %}
	    <div>
	      {{ instructor }}
	    </div>
	    {% endfor %}
	  </td>


	<td style="text-align: center;"> {{course.comment}}
	</td>
</tr>
{% endfor %}

<tr>
<td colspan="2"> <strong>Non-Teaching Loads</strong> <a title="Choose which types of non-teaching loads to display" href="{% url 'update_loads_to_view' id %}?next={{ request.path|urlencode }}">(Edit)</a>
<!--
<p>
<a class="btn btn-info" href="{% url 'update_loads_to_view' id %}?next={{ request.path|urlencode }}">Edit Which Types of Non-Teaching Load to View</a>
</p>
-->
</td>
	       <td> </td>
	       <td> </td>
	       <td> </td>
	       {% if can_edit %}
                <td> </td>
		{% endif %}
	       <td> </td>
<td> </td>
<td></td>
	       <td> </td>
</tr>


{% for data_element in admin_data_list %}
<tr>
  <td> </td>
  <td style="text-align: left;"> 
    {{data_element.load_type}} </td>
  <td> </td>
  <td> </td>
  <td> </td>
  {% if can_edit %}
      <td style="text-align: center;">
	<a title="Assign this load to one or more instructors" href="{% url 'update_other_load' data_element.id %}?next={{ request.path|urlencode }}"> Edit Loads</a>
        </td>
  {% endif %} 
	<td  style="text-align: center;">
	{{data_element.total_load}}</td>
  <td> </td>
  <td>
    {% for name_and_load in data_element.instructor_loads_abbrev %}
    <div> {{name_and_load}} </div>
    {% endfor %}
    
  </td>

  <td> </td>
</tr>
{% endfor %}


<!--
<tr>
	       <td> </td>
	       <td> </td>
	       {% if can_edit %}<td> </td>{% endif %}
	       <td> </td>
	       <td> </td>
	       <td> </td>
	       <td> </td>
	       <td> </td>
		{% for prof in instructor_list %}
		   <td colspan="3" style="text-align: center;"> {{prof}} </td>
		{% endfor %}
	       <td> </td>

</tr>
-->

</table>
</div>{# table-container #}

<p></p>
<p> <strong>Note: </strong>Any Summer loads are included with Fall.  </p>

</div>
</div>
</div>
</div>

<!-- ##############################################################-->
<!-- ###############  unassigned/overassigned loads  ##############-->
<!-- ##############################################################-->

 <div id="year-accordion-unassigned" class="accordion">
   <div class="accordion-group">
     <div class="accordion-heading">
       <a title="Course Offerings and Non-Teaching Loads that may require attention (meeting times are unassigned or loads are not correctly assigned)" class="accordion-toggle"
	   data-toggle="collapse"
	   data-parent="#year-accordion-unassigned"
	   href="#{{underassigned_load_div_id}}"
	   onclick="divRegister({{underassigned_load_div_id}})">
	  <!--onclick="divRegister()"-->
	 Under- and Over-Assigned Course Offerings
	</a>
       </div>{# accordion-heading #}

      <div id="{{underassigned_load_div_id}}" class="accordion-body collapse">
	<div class="accordion-inner">

<p><a title = "Choose which faculty to display when looking at loads, schedules, etc." class="btn btn-info" href="{% url 'update_faculty_to_view' id %}?next={{ request.path|urlencode }}">Manage Faculty</a>
</p>

<div id="table-container">

<table id='fixed_hdr2' class="table table-striped table-bordered table-hover">
	     <thead>
	       <tr>
	       <th> Number </th>
	       <th> Name </th>

	       <th> Sem/Frac </th>
	       <th> Time </th>
	       <th> Room </th>
	       {% if can_edit %} <th> </th> {% endif %}
	        <th> Avail </th>
	       <th> Diff </th>
	       <th> Instructor </th>
	       <th> Comments </th>
	       </tr>
	     </thead>
	     <tbody>
{% for course in unassigned_overassigned_data_list %}
    <tr>
      <td> {{course.number}}</td>
      <td> {{course.name}}</td>

      <td style="text-align: center;"> 
	{% if can_edit %}
	  <a href="{% url 'update_semester_for_course_offering' course.id %}?next={{ request.path|urlencode }}">
	    {{course.semester}}/{{course.semester_fraction}}</a>
	{% else %} 
	  {{course.semester}}/{{course.semester_fraction}}
        {% endif %}
      </td>
      <td style="text-align: center;">      
	{% for meeting in course.meeting_times %}
	<div>
	  {% if course.meetings_scheduled %}
	  {% if can_edit %}
	  <a href="{% url 'update_class_schedule' course.id 0 %}?next={{ request.path|urlencode }}">
	    {{meeting}}</a>
	  {% else %} 
	    {{meeting}}
	  {% endif %}
	  {% else %}
	  {% if can_edit %}
	  <a href="{% url 'new_class_schedule' course.id 0 %}">
	    {{meeting}}</a>
	  {% else %}
	    {{meeting}}
	  {% endif %}
	  {% endif %}
	</div>
	{% endfor %}
      </td> 
      <td style="text-align: center;">
	{% for room in course.rooms %}
	<div>
	  {% if course.meetings_scheduled %}
	  {% if can_edit %}
	  <a href="{% url 'update_class_schedule' course.id 0 %}?next={{ request.path|urlencode }}">
	    {{room}}</a>
	  {% else %}
	  {{room}}
	  {% endif %}
	  {% else %}
	  {% if can_edit %}
	  <a href="{% url 'new_class_schedule' course.id 0 %}">
	    {{room}}</a>
	  {% else %}
	  {{room}}
	  {% endif %}
	  {% endif %}
	</div>
	{% endfor %}
      </td>
      {% if can_edit %}
      <td style="text-align: center;"> 
	<a title="Delete this course offering" href="{% url 'delete_course_offering' course.id %}?next={{ request.path|urlencode }}">Delete</a> |
	<a  title="Assign the load for this course offering to one or more instructors" href="{% url 'update_course_offering' course.id 0 %}?next={{ request.path|urlencode }}"> Edit Loads</a>
	</td>
      {% endif %}
      </td>
      <td style="text-align: center;">
	{{course.load_hours}}</td>
	{% if course.load_difference < 0 %}
          <td style="text-align: center; color: red"> 
	  {{course.load_difference}}
	  </td>
	{% elif course.load_difference > 0 %}
	  <td style="text-align: center;"> 
	  {{course.load_difference}} 
	  </td>
	{% else %}
	  <td></td>
	{% endif %}
	  <td style="text-align: center;">
	    {% for instructor in course.instructor_list %}
	    <div>
	      {{ instructor }}
	    </div>
	    {% endfor %}
	  </td>
	<td style="text-align: center;">
	  {{course.comment}}
	</td>

</tr>
{% endfor %}

<tr>
<td colspan="2"> <strong>Non-Teaching Loads</strong> <a title="Choose which types of non-teaching loads to display" href="{% url 'update_loads_to_view' id %}?next={{ request.path|urlencode }}">(Edit)</a>
</td>
	       <td> </td>
	       <td> </td>
	       <td> </td>
	       {% if can_edit %}
                <td> </td>
		{% endif %}
	       <td> </td>
<td> </td>
<td> </td>
	       <td> </td>
</tr>

{% for data_element in unassigned_admin_data_list %}
<tr>
  <td> </td>
  <td style="text-align: left;"> 
    {{data_element.load_type}} </td>
  <td> </td>
  <td> </td>
  <td> </td>
  {% if can_edit %}
      <td style="text-align: center;">
	<a title="Assign this load to one or more instructors" href="{% url 'update_other_load' data_element.id %}?next={{ request.path|urlencode }}"> Edit Loads</a>
        </td>
  {% endif %} 
	<td  style="text-align: center;">
	{{data_element.total_load}}</td>
  <td> </td>
  <td>
    {% for name_and_load in data_element.instructor_loads_abbrev %}
    <div> {{name_and_load}} </div>
    {% endfor %}
    
  </td>
  <td> </td>
</tr>
{% endfor %}



<!--
<tr>
	       <td> </td>
	       <td> </td>
	       {% if can_edit %}<td> </td>{% endif %}
	       <td> </td>
	       <td> </td>
	       <td> </td>
	       <td> </td>
	       <td> </td>
		{% for prof in instructor_list %}
		   <td colspan="3" style="text-align: center;"> {{prof}} </td>
		{% endfor %}
	       <td> </td>

</tr>
-->

</table>
</div>{# table-container #}
<p></p>
<p> <strong>Note: </strong>Any Summer loads are included with Fall. </p>

</div>
</div>
</div>
</div>



<div class="content-center" id="position-holder-message-div-2"><span id="position-holder-message2"></span> <a id="new-link-id-2" href="{% url 'department_load_summary' %}"></a></div>


<!-- #########################################################-->
<!-- ###############  individual faculty loads  ##############-->
<!-- #########################################################-->

<div id="year-accordion2" class="accordion">
{% for instructor_row in data_list_by_instructor %}

   <div class="accordion-group">
     <div class="accordion-heading">
       <a class="accordion-toggle"
	   data-toggle="collapse"
	   data-parent="#year-accordion2"
	   href="#{{instructor_row.instructor_id}}"
	  onclick="divRegister({{instructor_row.instructor_id}})">
	 <div class="f1">{{instructor_row.instructor}}</div>
	 <div class="f2">
	   [
	   {{ instructor_row.load_summary.0 }}
	   +
	   {{ instructor_row.load_summary.1 }}
	   +
	   {{ instructor_row.load_summary.2 }}
	   
	   =
	   </div>
	 <div class="f3">
	   
	   {{instructor_row.total_load_hours}}
	   ]</div>
	 <div class="f4"></div>
	</a>
       </div>{# accordion-heading #}

      <div id="{{instructor_row.instructor_id}}" class="accordion-body collapse">
	<div class="accordion-inner">

<table class="table table-striped table-bordered table-hover">
	     <thead>
	       <tr>
		<th colspan="6">Teaching Load</th>
		</tr>
	       <th> Number </th>
	       <th> Name </th>
	       <th style="text-align: center;"> Semester (Fraction) </th>
	       <th style="text-align: center;"> Time </th>
	       <th style="text-align: center;"> Room </th>
	       {% if can_edit %}
	       <th style="text-align: center;">  </th>
	       {% endif %}
	        <th style="text-align: center;"> Available </th>
	       <th style="text-align: center;"> Diff </th>
	       <th colspan="3" style="text-align: center;"> {{instructor_row.instructor}} </th>
	       <th style="text-align: center;"> Comments </th>
	       </tr>
	     </thead>
	     <tbody>
{% for course in instructor_row.course_info %}
    <tr>
      <td> {{course.number}}</td>
      <td> {{course.name}}</td>
      <td style="text-align: center;"> 
	{% if can_edit %}
	<a href="{% url 'update_semester_for_course_offering' course.id %}?next={{ request.path|urlencode }}">
	  {{course.semester}} ({{course.semester_fraction}})</a>
	{% else %} 
	  {{course.semester}} ({{course.semester_fraction}})
        {% endif %}
      </td>
      <td style="text-align: center;">      
	{% for meeting in course.meeting_times %}
	<div>
	  {% if course.meetings_scheduled %}
	  {% if can_edit %}
	  <a href="{% url 'update_class_schedule' course.id 0 %}?next={{ request.path|urlencode }}">
	    {{meeting}}</a>
	  {% else %} {{meeting}} {% endif %}
	  {% else %}
	  {% if can_edit %}
	  <a href="{% url 'new_class_schedule' course.id 0 %}">
	    {{meeting}}</a>
	  {% else %} {{meeting}} {% endif %}
	  {% endif %}
	</div>
	{% endfor %}
      </td> 
      <td style="text-align: center;">
	{% for room in course.rooms %}
	<div>
	  {% if course.meetings_scheduled %}
	  {% if can_edit %}
	  <a href="{% url 'update_class_schedule' course.id 0 %}?next={{ request.path|urlencode }}">
	    {{room}}</a>
	  {% else %} {{room}} {% endif %}
	  {% else %}
	  {% if can_edit %}
	  <a href="{% url 'new_class_schedule' course.id 0 %}">
	    {{room}}</a>
	  {% else %} {{room}} {% endif %}
	  {% endif %}
	</div>
	{% endfor %}
      </td>
      {% if can_edit %}
      <td style="text-align: center;"> 
	<a title="Delete this course offering" href="{% url 'delete_course_offering' course.id %}?next={{ request.path|urlencode }}">Delete</a> |
	<a title="Assign the load for this course offering to one or more instructors" href="{% url 'update_course_offering' course.id 0 %}?next={{ request.path|urlencode }}"> Edit Loads</a>
	</td>
      {% endif %}
      <td style="text-align: center;">
	 {{course.load_hours}} </td>
	{% if course.load_difference < 0 %}
          <td style="text-align: center; color: red"> 
	  {{course.load_difference}}
	  </td>
	{% elif course.load_difference > 0 %}
	  <td style="text-align: center;"> 
	  {{course.load_difference}} 
	  </td>
	{% else %}
	  <td></td>
	{% endif %}
	{% if course.load_hour_list.1 == 0 %}
	<td colspan="3" style="text-align: left;">
	  {% if course.load_hour_list.0 >= 0 %}
	        {{course.load_hour_list.0}} 
	  {% endif %}
	</td>
        {% elif course.load_hour_list.1 == 1 %}
	<td colspan="3" style="text-align: center;">
	  {% if course.load_hour_list.0 >= 0 %}
	  {{course.load_hour_list.0}} 
	  {% endif %}
	</td>
	{% elif course.load_hour_list.1 == 2 %}
	<td colspan="3" style="text-align: right;">
	  {% if course.load_hour_list.0 >= 0 %}
	  {{course.load_hour_list.0}} 
	  {% endif %}
	</td>
	{% else %}
	<td colspan="3" style="text-align: right;"></td>
	{% endif %}
      <td style="text-align: center;"> {{course.comment}}</td>
</tr>
{% endfor %}

<tr>
<td colspan="2"> <strong>Non-Teaching Loads</strong> <a title="Choose which types of non-teaching loads to display" href="{% url 'update_loads_to_view' id %}?next={{ request.path|urlencode }}">(Edit)</a>
<!--
<p>
<a class="btn btn-info" href="{% url 'update_loads_to_view' id %}?next={{ request.path|urlencode }}">Edit Which Types of Non-Teaching Load to View</a>
</p>
-->
</td>
  <td> </td>
  <td> </td>
  <td> </td>
    {% if can_edit %}
    <td></td>
    {% endif %} 
  <td></td>
  <td> </td>
  <td colspan="3" style="text-align: center;">  </td>
  <td> </td>
</tr>


{% for data_element in instructor_row.admin_data_list %}
<tr>
  <td> </td>
  <td> {{data_element.load_type}}</td>
  <td> </td>
  <td> </td>
  <td> </td>
    {% if can_edit %}
    <td style="text-align: center;"> 
    <a title="Assign this load to one or more instructors" href="{% url 'update_other_load' data_element.id %}?next={{ request.path|urlencode }}"> Edit Loads</a>
    </td>
    {% endif %} 
  <td style="text-align: center;"> {{data_element.total_load}}</td>
  <td> </td>
  {% for loadelement in data_element.load_hour_list %}
  <td style="text-align: center;">
    {% if loadelement > 0 %}
    {{loadelement}} 
    {% endif %}
  </td>
  {% endfor %}
  <td> </td>
</tr>
{% endfor %}

<tr>
	       <td> </td>
	       <td> </td>
	       {% if can_edit %}
	       <td colspan="6" style="text-align: right;"> Load Summary </td>
	       {% else %}
	       <td colspan="5" style="text-align: right;"> Load Summary </td>
	       {% endif %}
	          {% for loadelement in instructor_row.load_summary %}
                     <td style="text-align: center;">
	               {{loadelement}} 
		     </td>
		  {% endfor %}
	       <td> </td>

</tr>

<tr>
	       <td> </td>
	       <td> </td>
	       {% if can_edit %}
	       <td colspan="6" style="text-align: right;"> Total </td>
	       {% else %}
	       <td colspan="5" style="text-align: right;"> Total </td>
	       {% endif %}
               <td colspan="3" style="text-align: center;">
	         {{instructor_row.total_load_hours}} 
	       </td>
	       <td> </td>

</tr>

</table>

<p> Note: Any Summer loads are included with Fall. </p>

</div>
</div>
</div>
{% endfor %}

</div>

<p>
<a title = "Choose which faculty to display when looking at loads, schedules, etc." class="btn btn-info" href="{% url 'update_faculty_to_view' id %}?next={{ request.path|urlencode }}">Manage Faculty</a>
</p>


<div class="content-center" id="position-holder-small-font-message-div"><span id="position-holder-small-font-message"></span> </div>

<!-- the following is some AJAX that keeps track of which divs are open and which are shut -->

<script>
function divRegister(id)
{
var xmlhttp;
if (window.XMLHttpRequest)
  {// code for IE7+, Firefox, Chrome, Opera, Safari
  xmlhttp=new XMLHttpRequest();
  }
else
  {// code for IE6, IE5
  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
  }
xmlhttp.onreadystatechange=function()
  {
  if (xmlhttp.readyState==4 && xmlhttp.status==200)
    {
    /*document.getElementById("myDiv").innerHTML=xmlhttp.responseText;*/
    }
  }
xmlhttp.open("GET","/planner/divtracker/"+id+"/",true);
xmlhttp.send();
}
</script>

<!--
<div id="myDiv"><h2>Let AJAX change this text</h2></div>
-->
<!--<button type="button" onclick="divRegister()">Change Content</button>-->

<!--
<button type="button" onclick="divRegister({{close_all_divs}})">Toggle</button>
-->

<script>
    $(window).load(function(){
    var windowWidth = window.innerWidth;
    var windowHeight = window.innerHeight;
//    if (windowWidth < 1230 || windowHeight < 800) {
//     var smallFontMessage = document.getElementById("position-holder-small-font-message");
//     smallFontMessage.innerHTML = "For better viewing of tables on this page, you may wish to increase the size of your browser window and/or decrease the font size (using 'control -' on a PC or 'command -' on a Mac; to increase the font size later on, use 'control =' on a PC or 'command =' on a Mac).";
//     smallFontMessage.style.color = "orange";
//     smallFontMessage.style.weight = "bold";
//    }		      

    var id_list = {{open_div_id_list|safe}};
    for (var n=0; n < id_list.length; n++) {
      $('#'+id_list[n]).collapse("show");
    }		      
    });
</script>

<script>
function sizeTables(){
  numInstructors = {{num_faculty|safe}};
  var windowWidth = window.innerWidth;
  var windowHeight = window.innerHeight;
  if (windowHeight > 900) {
     heightInput = 400
  } else {
     heightInput = 300
  }
  if (windowWidth > 1340) { 
     colModalInput = [
	   { width: 70, align: 'left' },
	   { width: 220, align: 'left' },
	   { width: 50, align: 'center'},
	   { width: 100, align: 'center' },
	   { width: 70, align: 'center' },
           {% if can_edit %}
              { width: 120, align: 'center' },
		      {% endif %}
		      { width: 40, align: 'center' },
		      { width: 40, align: 'center' },
		      { width: 150, align: 'center' }];
  colModalInput.push({width: 150, align: 'center'});
  } else {
     colModalInput = [
	   { width: 60, align: 'left' },
	   { width: 220, align: 'left' },
	   { width: 50, align: 'center'},
	   { width: 100, align: 'center' },
	   { width: 60, align: 'center' },
           {% if can_edit %}
              { width: 100, align: 'center' },
           {% endif %}
	   { width: 40, align: 'center' },
	   { width: 40, align: 'center' },
		      { width: 150, align: 'center' }];
  colModalInput.push({width: 150, align: 'center'});
  }

  $('#fixed_hdr1').fxdHdrCol({
        {% if can_edit %}
           fixedCols: 0,
        {% else %}
           fixedCols: 0,
        {% endif %}
	width:     "100%",
	height: heightInput,
	colModal: colModalInput	
  });
  $('#fixed_hdr2').fxdHdrCol({
        {% if can_edit %}
           fixedCols: 0,
        {% else %}
           fixedCols: 0,
        {% endif %}
	width:     "100%",
	height: heightInput,
	colModal: colModalInput	
  });
}

</script>

<script>
  function sizeTables(){
  numInstructors = {{num_faculty|safe}};
  var windowWidth = window.innerWidth;
  var windowHeight = window.innerHeight;
  if (windowHeight > 900) {
     heightInput = 400
  } else {
     heightInput = 300
  }
  if (windowWidth > 1340) { 
     colModalInput = [
		      { width: 70, align: 'left' },
		      { width: 220, align: 'left' },
		      { width: 50, align: 'center'},
		      { width: 100, align: 'center' },
		      { width: 70, align: 'center' },
		      {% if can_edit %}
		      { width: 120, align: 'center' },
		      {% endif %}
		      { width: 40, align: 'center' },
		      { width: 40, align: 'center' },
		      { width: 150, align: 'center' }];

  colModalInput.push({width: 150, align: 'center'});
  } else {
     colModalInput = [
	   { width: 60, align: 'left' },
	   { width: 220, align: 'left' },
	   { width: 50, align: 'center'},
	   { width: 100, align: 'center' },
	   { width: 60, align: 'center' },
           {% if can_edit %}
              { width: 100, align: 'center' },
           {% endif %}
	   { width: 40, align: 'center' },
		      { width: 40, align: 'center' },
		      { width: 150, align: 'center' }];
       colModalInput.push({width: 150, align: 'center'});
  }

  $('#fixed_hdr1').fxdHdrCol({
        {% if can_edit %}
           fixedCols: 0,
        {% else %}
           fixedCols: 0,
        {% endif %}
	width:     "100%",
	height: heightInput,
	colModal: colModalInput	
  });
  $('#fixed_hdr2').fxdHdrCol({
        {% if can_edit %}
           fixedCols: 0,
        {% else %}
           fixedCols: 0,
        {% endif %}
	width:     "100%",
	height: heightInput,
	colModal: colModalInput	
  });
}

</script>

<script>
function alertMessage() {
  var warningMessage = document.getElementById("position-holder-message1");
  warningMessage.innerHTML = "It is recommended that you reload this page after resizing <br>the window so that the tables display properly: ";
  warningMessage.style.color = "orange";
  warningMessage.style.weight = "bold";
  document.getElementById("new-link-id").innerHTML = "Reload Page";
  var warningDiv = document.getElementById("position-holder-message-div");
  warningDiv.style.marginBottom = "20px";

  var warningMessage2 = document.getElementById("position-holder-message2");
  warningMessage2.innerHTML = "It is recommended that you reload this page after resizing <br>the window so that the tables display properly: ";
  warningMessage2.style.color = "orange";
  warningMessage2.style.weight = "bold";
  document.getElementById("new-link-id-2").innerHTML = "Reload Page";
  var warningDiv2 = document.getElementById("position-holder-message-div-2");
  warningDiv2.style.marginBottom = "20px";
}

</script>



  <script>    
    //window.addEventListener("resize",function(){alertMessage();},true);
    $(window).load(function(){
    sizeTables();
    $("#nav-deptloadsummary").addClass("current");
    $('.page-name').find('h1').replaceWith('<h1>Faculty Load Summary</h1><h2>{{department}}, {{academic_year}}</h2>');
    $(".page-name").stop().animate({opacity: 1,'margin-left': '5%'}, 700);});
  </script>


{% endblock %}
